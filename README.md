# 股票分析系统

## 项目简介

基于AI的个人股票分析系统，支持漏斗型选股和深度个股分析。

**投资理念**：长期投资，价值投资，集中投资（3-5只股票），分散风险（行业分散）

**当前状态**：前端基本完成，后端开发中（API接口实施阶段）

**最新进展**：
- ✅ 前端React框架搭建完成
- ✅ 核心页面已实现（选股、结果、历史、详情、报告）
- ✅ 后端项目结构搭建完成
- 🚧 正在实施API接口开发（2026-01-28）

**详细状态**: 查看 [PROJECT_STATUS.md](PROJECT_STATUS.md)

---

## 快速导航

### 📁 文档目录（docs/）

| 文档 | 说明 | 版本 | 更新日期 |
|------|------|------|---------|
| [PROJECT_STATUS.md](PROJECT_STATUS.md) | 项目状态总结 | v1.0 | 2026-01-28 |
| [01_需求分析文档.md](docs/01_需求分析文档.md) | 核心需求文档 | v1.3 | 2026-01-27 |
| [02_技术选型文档.md](docs/02_技术选型文档.md) | 技术栈和工具 | - | 2026-01-27 |
| [03_DeepSeek使用指南.md](docs/03_DeepSeek使用指南.md) | AI使用说明 | - | 2026-01-27 |
| [09_界面设计文档.md](docs/09_界面设计文档.md) | 界面原型设计 | v1.0 | 2026-01-27 |
| [10_后端开发路线图.md](docs/10_后端开发路线图.md) | 后端实施计划 | - | 2026-01-27 |
| [11_后端开发进度总结.md](docs/11_后端开发进度总结.md) | 进度跟踪 | - | 2026-01-28 |
| [12_akshare问题诊断和讨论.md](docs/12_akshare问题诊断和讨论.md) | 问题诊断 | - | 2026-01-28 |
| [13_最终执行方案.md](docs/13_最终执行方案.md) | 执行方案 | - | 2026-01-28 |

### 💻 源代码目录（stock-analysis/）

| 文档 | 说明 | 状态 |
|------|------|------|
| [BACKEND_MIGRATION_GUIDE.md](stock-analysis/BACKEND_MIGRATION_GUIDE.md) | 后端迁移指南 | ✅ 已完成 |
| [src/pages/](stock-analysis/src/pages/) | React页面组件 | 🚧 开发中 |
| [src/services/dataService.js](stock-analysis/src/services/dataService.js) | 统一数据访问层 | ✅ 已完成 |

---

## 核心功能

### 1. 漏斗型选股（三层筛选）

- **第1层**：基础筛选（3套策略：稳健/平衡/成长）
- **第2层**：趋势筛选（刚启动的股票）
- **第3层**：深度分析（DCBAEF六维度）

**当前进度**：
- ✅ 选股配置页面（Screening.jsx）
- ✅ 选股结果页面（StockResults.jsx）
- ✅ 历史记录功能（History.jsx + HistoryDetail.jsx）
- ⏳ 待实现：AI驱动的深度分析

### 2. 个股深度分析（DCBAEF六维度）

- **D**：宏观与事件（政策、国际形势）
- **C**：行业数据（行业PE、排名）
- **B**：财务数据（盈利能力、成长能力）
- **A**：技术分析（支撑位、压力位）
- **E**：情绪面（换手率、北向资金）
- **F**：资金面（资金流向、持仓变化）

**当前进度**：
- ⏳ 待实现：个股详情页面（StockDetail.jsx）
- ⏳ 待实现：六维度分析展示

### 3. AI推荐报告

- 综合评分（0-10分）
- 操作建议（买入/观望/避免）
- 建议价格和仓位
- 止盈止损计划

**当前进度**：
- ⏳ 待实现：推荐报告页面（Report.jsx）

### 4. 历史记录管理

**当前进度**：
- ✅ 历史记录列表页面
- ✅ 历史详情页面（HistoryDetail.jsx）
- ✅ 基于localStorage的临时存储

### 5. 仓位管理系统（后续版本）

- 9-10分：25-30%仓位
- 7-8分：15-20%仓位
- 5-6分：5-10%仓位
- 持仓数量：3-6只
- 行业集中度：单一≤40%

### 6. 止盈止损策略（后续版本）

- 分批止盈：10%/20%/30%/50%
- 坚决止损：-10%

### 7. 市场环境监控（后续版本）

- 每日检测+连续3天确认
- 环境变化提醒
- 市场环境预测（未来1-2周）
- 极端情况预警

---

## 技术栈

### 当前实现

```
前端框架：      React 18 + React Router v7
样式框架：      Tailwind CSS 3.4.19 + 自定义中国风主题
数据存储（临时）：localStorage + sessionStorage
数据访问层：    DataService（统一接口，便于迁移）
装饰组件：      中国山水风格（山脉、飞鸟、星空、V形雁阵）
主题切换：      日间/夜间模式
```

### 后端规划

```
后端框架：      Python FastAPI
数据源：        akshare（A股行情数据）
定时任务：      APScheduler（小时级更新，可扩展至分钟级）
数据库（开发）： SQLite
数据库（生产）： PostgreSQL
部署方式：      Docker容器化
```

### AI层

```
主力模型：      Deep Seek-V3
备用模型：      Qwen-Max、GLM-4
使用场景：      新闻情感分析、事件影响评估、推荐报告生成
```

---

## 开发计划

### ✅ 阶段1：需求分析（已完成）

- [x] 需求文档v1.3
- [x] 技术选型
- [x] 专家审查（2轮）
- [x] 界面设计文档
- [x] 工程目录结构

### 🎨 阶段2：前端开发（进行中）

#### 2.1 基础框架搭建（已完成）
- [x] React项目初始化
- [x] React Router路由配置
- [x] Tailwind CSS + 中国风主题
- [x] 装饰组件（山脉、飞鸟、星空、雁阵）
- [x] 主题切换功能

#### 2.2 核心页面开发（已完成）
- [x] 选股配置页面（Screening.jsx）
- [x] 选股结果页面（StockResults.jsx）
- [x] 历史记录列表（History.jsx）
- [x] 历史详情页面（HistoryDetail.jsx）

#### 2.3 数据访问层（已完成）
- [x] DataService统一接口
- [x] localStorage数据持久化
- [x] 20+个TODO标记（为后端迁移准备）
- [x] 迁移指南文档

#### 2.4 待补全页面（下一步）
- [ ] 个股详情页面（StockDetail.jsx）
  - [ ] 基础信息展示
  - [ ] DCBAEF六维度分析
  - [ ] 技术图表（K线图、指标图）
- [ ] AI推荐报告页面（Report.jsx）
  - [ ] 综合评分展示
  - [ ] 操作建议
  - [ ] 风险提示
- [ ] 页面交互优化
- [ ] 响应式适配

### 💻 阶段3：后端开发（计划中）

#### 3.1 环境搭建（1-2天）
- [ ] Python虚拟环境
- [ ] FastAPI项目初始化
- [ ] akshare库安装测试
- [ ] 项目结构搭建

#### 3.2 数据获取模块（3-5天）
- [ ] akshare API封装
- [ ] 股票列表获取
- [ ] 实时行情数据
- [ ] 财务数据获取
- [ ] 数据缓存策略

#### 3.3 API接口开发（5-7天）
**第一阶段（必须实现）**：
- [ ] GET /api/stocks - 股票列表筛选
- [ ] GET /api/stocks/:code - 个股详情
- [ ] POST /api/screen - 执行筛选

**第二阶段（重要功能）**：
- [ ] GET /api/screening-history - 历史记录
- [ ] POST /api/screening-history - 保存记录
- [ ] DELETE /api/screening-history/:id - 删除记录

**第三阶段（可选功能）**：
- [ ] POST /api/watchlist - 自选股管理
- [ ] GET /api/analysis/:code - AI分析
- [ ] GET /api/report/:code - 推荐报告

#### 3.4 数据库集成（2-3天）
- [ ] SQLite开发环境
- [ ] 表结构设计
- [ ] ORM集成（SQLAlchemy）
- [ ] 数据迁移脚本

#### 3.5 定时任务（1-2天）
- [ ] APScheduler配置
- [ ] 小时级数据更新
- [ ] 分钟级更新扩展性设计
- [ ] 任务监控和日志

#### 3.6 前后端集成（2-3天）
- [ ] 前端API客户端封装
- [ ] 替换DataService方法
- [ ] 联调测试
- [ ] 错误处理优化

### 🧪 阶段4：优化和测试（计划中）

- [ ] 单元测试
- [ ] 功能测试
- [ ] 性能测试
- [ ] 安全测试
- [ ] 模拟盘验证（3个月）

---

## MVP版本功能范围

**必须实现**：
- ✅ 漏斗型选股（3套策略）
- ✅ 历史选股记录
- ⏳ 个股分析（DCBA六维度）
- ⏳ AI推荐报告（简化版）

**暂不实现**（后续版本）：
- 仓位管理系统
- 止盈止损策略
- 市场环境判断
- 情绪面/资金面（E/F维度）

---

## 验证计划

**验证周期**：3个月（震荡市）

**验证方法**：
1. 第1天：系统筛选出股票清单
2. 第30天：检查表现（对比沪深300）
3. 第60天：二次检查
4. 第90天：最终评估

**评估标准**：
- ✅ 有效：筛选股票平均涨幅 > 沪深300 + 3%
- ⚠️ 一般：≈ 沪深300
- ❌ 无效：< 沪深300

---

## 项目结构

```
stock/
├── docs/                              # 📁 所有文档
│   ├── 01_需求分析文档.md
│   ├── 02_技术选型文档.md
│   ├── 03_DeepSeek使用指南.md
│   ├── 04_专家审查报告.md
│   ├── 05_专家建议讨论记录.md
│   ├── 06_专家最终审查报告.md
│   ├── 07_更新总结与讨论.md
│   ├── 08_最终更新总结.md
│   ├── 09_界面设计文档.md
│   └── 10_后端开发路线图.md
├── stock-analysis/                    # 💻 React前端项目
│   ├── src/
│   │   ├── pages/                     # 页面组件
│   │   │   ├── Screening.jsx          # ✅ 选股配置页
│   │   │   ├── StockResults.jsx       # ✅ 选股结果页
│   │   │   ├── History.jsx            # ✅ 历史记录列表
│   │   │   ├── HistoryDetail.jsx      # ✅ 历史详情页
│   │   │   ├── StockDetail.jsx        # ⏳ 个股详情页（待开发）
│   │   │   └── Report.jsx             # ⏳ 推荐报告页（待开发）
│   │   ├── services/
│   │   │   └── dataService.js         # ✅ 统一数据访问层
│   │   ├── components/
│   │   │   ├── MountainRange.jsx      # ✅ 山脉装饰
│   │   │   ├── FlyingBird.jsx         # ✅ 飞鸟装饰
│   │   │   ├── StarrySky.jsx          # ✅ 星空装饰
│   │   │   └── GeeseFormation.jsx     # ✅ V形雁阵
│   │   └── App.jsx
│   ├── BACKEND_MIGRATION_GUIDE.md     # ✅ 后端迁移指南
│   ├── package.json
│   └── tailwind.config.js
├── data/                              # 📊 数据目录（待创建）
├── tests/                             # 🧪 测试目录（待创建）
├── logs/                              # 📝 日志目录（待创建）
├── backend/                           # 🐍 Python后端（待创建）
└── README.md                          # 本文件
```

---

## 下一步行动

### 当前优先级

1. **补全前端页面**（预计1周）
   - [ ] 实现个股详情页面（StockDetail.jsx）
   - [ ] 实现AI推荐报告页面（Report.jsx）
   - [ ] 实现DCBAEF六维度分析展示
   - [ ] 页面交互优化

2. **后端开发准备**（预计3-4周）
   - [ ] Python FastAPI项目搭建
   - [ ] akshare数据获取模块
   - [ ] RESTful API接口实现
   - [ ] 数据库设计和实现
   - [ ] 前后端集成

3. **优化和测试**（预计1-2周）
   - [ ] 完整功能测试
   - [ ] 性能优化
   - [ ] 错误处理完善

---

## 关键决策记录

### 技术决策

1. **前端框架选择**：从原计划的HTML静态页面调整为React框架
   - **原因**：React提供更好的组件复用性和状态管理
   - **影响**：开发效率提升，便于后续功能扩展
   - **文档更新**：README.md、技术选型文档

2. **数据存储策略**：采用分阶段方案
   - **阶段1**：使用localStorage作为临时数据存储（当前）
   - **阶段2**：迁移到Python FastAPI后端（下一步）
   - **原因**：先验证前端功能，再投入后端开发成本
   - **文档**：BACKEND_MIGRATION_GUIDE.md

3. **数据库选择**：
   - **开发阶段**：SQLite（零配置，文件型数据库）
   - **生产环境**：PostgreSQL（功能强大，适合复杂查询）
   - **原因**：开发阶段快速迭代，生产环境保证性能

4. **数据更新策略**：
   - **当前需求**：小时级更新
   - **扩展设计**：预留分钟级更新能力
   - **实现**：使用APScheduler，配置灵活的更新间隔

5. **部署方式**：
   - **当前**：本地部署
   - **未来**：Docker容器化，支持云端部署
   - **原因**：开发阶段本地运行即可，生产环境需要可移植性

---

## 技术亮点

### 1. 中国风UI设计
- 墨色配色系统（墨黑、朱砂红、竹青、宣纸白）
- 传统装饰元素（山水画、飞鸟、星空、V形雁阵）
- 优雅的字体组合（思源宋体+思源黑体）
- 日间/夜间主题平滑切换

### 2. 统一数据访问层
- DataService封装所有数据操作
- 20+个TODO标记，便于后端迁移
- 清晰的接口定义，易于维护

### 3. 渐进式开发策略
- 先实现前端功能，快速验证
- 使用localStorage降低初期开发成本
- 完整的迁移指南，确保平滑过渡到后端

### 4. 可扩展架构
- 模块化组件设计
- RESTful API规范
- 支持多数据源切换
- 预留AI分析接口

---

## 联系方式

- **创建日期**：2026-01-27
- **当前版本**：v2.0（前端开发阶段）
- **文档状态**：持续更新
- **最后更新**：2026-01-28

---

## 贡献者

- **用户**：需求定义、投资理念、技术选型决策
- **Claude Code**：前端开发、文档维护、技术实现
