# 项目进度与场景解决方案总结

**日期**: 2026-02-02
**状态**: ✅ 阶段性总结

---

目前项目已完成前后端基础架构搭建与核心功能开发，正处于**深度集成与稳定性优化阶段**。前端实现了独具特色的“中国风”UI设计，后端完成了基于 FastAPI + Akshare 的数据服务构建，并针对大规模数据抓取进行了并发控制优化。

## 场景解决方案

### 场景一：全市场股票数据的高并发获取

#### 场景信息描述
*   **场景**：用户发起选股任务时，系统需要从外部接口（东方财富/新浪等）获取全市场 5000+ 只股票的实时行情与财务指标。
*   **痛点**：
    1.  **接口封禁**：短时间内高频请求会导致目标服务器触发反爬策略，返回 `RemoteDisconnected` 或空数据。
    2.  **性能瓶颈**：串行获取数据耗时过长（数分钟），严重影响用户体验；完全并行则导致系统资源耗尽或被封 IP。

#### 产品解决方案
*   **信号量并发控制**：在后端 `data_fetcher.py` 中引入 `threading.Semaphore(10)`，将并发请求数严格限制在 10 个以内，平衡速度与稳定性。
*   **批次处理与降级策略**：
    1.  采用 `asyncio.gather` 分批次（每批 50 个）异步拉取数据。
    2.  设计了自动降级机制：当并发获取失败时，自动切换为串行重试，确保数据完整性优先于速度。
*   **商业接口调研**：为彻底解决反爬问题，已调研 Tushare Pro（积分制）与 Wind（年费制）等商业数据源方案作为备选。

### 场景二：差异化的沉浸式选股体验

#### 场景信息描述
*   **场景**：个人投资者在进行复盘和选股时，面对充斥着密集表格与红绿数字的传统界面，容易产生视觉疲劳与焦虑。
*   **痛点**：市面上的股票工具大多注重功能堆砌，缺乏美感与人文关怀，难以提供宁静、专注的分析环境。

#### 产品解决方案
*   **“中国风”UI 设计**：前端采用 React + Tailwind CSS，打造了以“水墨淡彩”为基调的视觉风格。
*   **双主题模式**：
    1.  **日间模式**：宣纸白背景 + 竹青色点缀，营造书卷气。
    2.  **夜间模式**：深黛蓝背景 + 月光白文字，模拟“月夜山水”意境，护眼同时通过沉浸感降低焦虑。

---

## MVP 功能及截图

MVP（最小可行性产品）版本主要包含了以下核心功能：

### 1. 智能选股配置
*   提供“稳健型”、“平衡型”、“成长型”三种预设策略。
*   支持自定义市盈率 (PE)、市净率 (PB)、市值等核心指标筛选。

### 2. 全市场扫描与展示
*   后端实时扫描 A 股市场，前端以列表形式展示筛选结果。
*   包含代码、名称、最新价、涨跌幅等关键数据。

### 3. 任务状态管理
*   异步任务处理机制，支持查看选股任务的进度与状态（处理中/已完成/失败）。

> **界面视觉描述**：
> 页面背景铺设淡雅山水剪影，功能卡片采用圆角与阴影设计，仿佛悬浮于宣纸之上。
> 按钮交互带有水墨扩散动画，字体采用针对中文优化的衬线体（如 Noto Serif SC），整体呈现出一种“工具即艺术”的独特质感。

---

## 当前待办事项

1.  **验证并发稳定性**：测试 10 并发下的系统长期运行稳定性。
2.  **错误处理优化**：解决偶发的 `RemoteDisconnected` 错误（可能需进一步降低并发或引入代理）。
3.  **商业接口评估**：完善商业数据接口（Tushare Pro / Wind）的接入评估与成本分析。
